{% extends 'base.html' %}

{% block content %}
<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                模型评估
            </div>
            <div class="card-body">
                <h5 class="card-title">评估模型：{{ model.model_name }}</h5>
                <p class="card-text">选择数据文件评估模型的性能，系统将自动计算模型的准确率。</p>
                
                <!-- 评估表单 -->
                <form method="post">
                    <div class="mb-3">
                        <label for="data_file_id" class="form-label">选择数据文件</label>
                        <select class="form-select" id="data_file_id" name="data_file_id" required>
                            <option value="">请选择数据文件</option>
                            {% for data_file in data_files %}
                                <option value="{{ data_file.id }}">{{ data_file.filename }} ({{ data_file.file_type }})</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">开始评估</button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- 评估结果 -->
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">
                模型信息
            </div>
            <div class="card-body">
                <p><strong>模型名称：</strong>{{ model.model_name }}</p>
                <p><strong>训练时间：</strong>{{ model.training_time.strftime('%Y-%m-%d %H:%M:%S') }}</p>
                <p><strong>训练数据量：</strong>{{ model.training_data_size }}</p>
                <p><strong>准确率：</strong>{{ "%.2f"|format(model.accuracy * 100) }}%</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}